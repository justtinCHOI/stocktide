{"version":3,"file":"CompanyModify-XPsebW_N.js","sources":["../../src/components/stock/domestic/detail/modify/CompanyModifyComponent.tsx","../../src/pages/stock/domestic/detail/modify/CompanyModify.tsx"],"sourcesContent":["import React, { FC, useEffect, useState } from 'react';\r\nimport {deleteOne, getOne, putOne} from \"@api/companyApi\";\r\nimport useCustomMove from \"@hooks/useCustomMove.ts\";\r\nimport ResultModal from \"@components/common/ResultModal\";\r\nimport {\r\n    Button,\r\n    Container,\r\n    FormRow,\r\n    Input,\r\n    Label,\r\n    ReadOnlyInput,\r\n    ButtonRow, ContentBottom\r\n} from \"@assets/css/content\"\r\nimport { CompanyUpdateDto } from '@typings/dto';\r\nimport { CompanyInfoState } from '@typings/company';\r\n\r\nconst initState: CompanyInfoState = {\r\n    companyId: 0,\r\n    code: '',\r\n    korName: '',\r\n    createdAt: '',\r\n};\r\n\r\ninterface CompanyModifyComponentProps {\r\n    companyId: number;\r\n}\r\n\r\nconst CompanyModifyComponent: FC<CompanyModifyComponentProps> = ({companyId}) => {\r\n\r\n    //나중에 값이 바뀐다는 것은 상태처리라는 뜻\r\n    const [company, setCompany] = useState<CompanyUpdateDto>(initState)\r\n\r\n    const {moveToList, moveToRead} = useCustomMove();\r\n\r\n    const [result, setResult] = useState<string | null>(null)\r\n\r\n    useEffect(() => {\r\n        getOne(companyId).then(data => {\r\n            setCompany(data);\r\n        }).catch(err => {\r\n            console.error(\"Failed to fetch DetailComponent article:\", err);\r\n            setCompany(initState);\r\n        });\r\n    }, [companyId]);\r\n\r\n    const handleChangeCompany = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const { name, value } = e.target;\r\n        setCompany(prev => ({\r\n            ...prev,\r\n            [name]: value\r\n        }));\r\n        console.log(\"handleChangeCompany \", company)\r\n    }\r\n\r\n    const handleClickDelete = () => {\r\n        deleteOne(companyId).then(data => {\r\n            console.log(\"delete result : \" + data)\r\n            setResult('Deleted')\r\n        })\r\n    }\r\n\r\n    const handleClickModify = () => {\r\n        putOne(company).then(data => {\r\n            console.log(\"modify result : \" + data)\r\n            setResult('Modified')\r\n        })\r\n    }\r\n\r\n    const closeModal = () => {\r\n        if (result === 'Deleted') {\r\n            moveToList()\r\n        } else if (result === 'Modified') {\r\n            moveToRead(companyId)\r\n        }\r\n        setResult(null)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Container>\r\n\r\n                {result && <ResultModal title={'처리결과'} content={result} callbackFn={closeModal}/>}\r\n                <FormRow>\r\n                    <Label>번호</Label>\r\n                    <ReadOnlyInput value={company.companyId} readOnly/>\r\n                </FormRow>\r\n\r\n                <FormRow>\r\n                    <Label>코드</Label>\r\n                    <ReadOnlyInput value={company.code} readOnly/>\r\n                </FormRow>\r\n\r\n                <FormRow>\r\n                    <Label>회사명</Label>\r\n                    <Input name=\"korName\" type=\"text\" value={company.korName} onChange={handleChangeCompany}/>\r\n                </FormRow>\r\n\r\n                {/*<FormRow>*/}\r\n                {/*    <Label>수정일</Label>*/}\r\n                {/*    <Input name=\"createdAt\" type=\"date\" value={company.createdAt} onChange={handleChangeCompany}/>*/}\r\n                {/*</FormRow>*/}\r\n\r\n                <ButtonRow>\r\n                    <Button style={{backgroundColor: 'red'}} onClick={handleClickDelete}>삭제</Button>\r\n                    <Button style={{backgroundColor: 'blue'}} onClick={handleClickModify}>수정</Button>\r\n                </ButtonRow>\r\n            <ContentBottom/>\r\n            </Container>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default CompanyModifyComponent;\r\n","import {useParams} from \"react-router\";\r\nimport CompanyModifyComponent from '@components/stock/domestic/detail/modify/CompanyModifyComponent';\r\n\r\nfunction CompanyModify() {\r\n\r\n    const {companyId} = useParams()\r\n\r\n    const companyIdNumber = Number(companyId); // 숫자로 변환\r\n\r\n    return (\r\n        <CompanyModifyComponent companyId={companyIdNumber}/>\r\n\r\n    );\r\n}\r\n\r\nexport default CompanyModify;"],"names":["initState","CompanyModifyComponent","companyId","company","setCompany","useState","moveToList","moveToRead","useCustomMove","result","setResult","useEffect","getOne","data","err","handleChangeCompany","e","name","value","prev","handleClickDelete","deleteOne","handleClickModify","putOne","closeModal","jsx","Fragment","Container","ResultModal","FormRow","Label","ReadOnlyInput","Input","ButtonRow","Button","ContentBottom","CompanyModify","useParams","companyIdNumber"],"mappings":"4ZAgBA,MAAMA,EAA8B,CAChC,UAAW,EACX,KAAM,GACN,QAAS,GACT,UAAW,EACf,EAMMC,EAA0D,CAAC,CAAC,UAAAC,KAAe,CAG7E,KAAM,CAACC,EAASC,CAAU,EAAIC,EAAAA,SAA2BL,CAAS,EAE5D,CAAC,WAAAM,EAAY,WAAAC,CAAU,EAAIC,EAAc,EAEzC,CAACC,EAAQC,CAAS,EAAIL,EAAAA,SAAwB,IAAI,EAExDM,EAAAA,UAAU,IAAM,CACLC,EAAAV,CAAS,EAAE,KAAaW,GAAA,CAC3BT,EAAWS,CAAI,CAAA,CAClB,EAAE,MAAaC,GAAA,CACJ,QAAA,MAAM,2CAA4CA,CAAG,EAC7DV,EAAWJ,CAAS,CAAA,CACvB,CAAA,EACF,CAACE,CAAS,CAAC,EAER,MAAAa,EAAuBC,GAA2C,CACpE,KAAM,CAAE,KAAAC,EAAM,MAAAC,CAAM,EAAIF,EAAE,OAC1BZ,EAAoBe,IAAA,CAChB,GAAGA,EACH,CAACF,CAAI,EAAGC,CAAA,EACV,EACM,QAAA,IAAI,uBAAwBf,CAAO,CAC/C,EAEMiB,EAAoB,IAAM,CAClBC,EAAAnB,CAAS,EAAE,KAAaW,GAAA,CACtB,QAAA,IAAI,mBAAqBA,CAAI,EACrCH,EAAU,SAAS,CAAA,CACtB,CACL,EAEMY,EAAoB,IAAM,CACrBC,EAAApB,CAAO,EAAE,KAAaU,GAAA,CACjB,QAAA,IAAI,mBAAqBA,CAAI,EACrCH,EAAU,UAAU,CAAA,CACvB,CACL,EAEMc,EAAa,IAAM,CACjBf,IAAW,UACAH,EAAA,EACJG,IAAW,YAClBF,EAAWL,CAAS,EAExBQ,EAAU,IAAI,CAClB,EAGI,OAAAe,EAAAA,IAAAC,EAAAA,SAAA,CACI,gBAACC,EAEI,CAAA,SAAA,CAAAlB,SAAWmB,EAAY,CAAA,MAAO,OAAQ,QAASnB,EAAQ,WAAYe,EAAW,SAC9EK,EACG,CAAA,SAAA,CAAAJ,EAAAA,IAACK,GAAM,SAAE,IAAA,CAAA,EACRL,EAAA,IAAAM,EAAA,CAAc,MAAO5B,EAAQ,UAAW,SAAQ,EAAA,CAAA,CAAA,EACrD,SAEC0B,EACG,CAAA,SAAA,CAAAJ,EAAAA,IAACK,GAAM,SAAE,IAAA,CAAA,EACRL,EAAA,IAAAM,EAAA,CAAc,MAAO5B,EAAQ,KAAM,SAAQ,EAAA,CAAA,CAAA,EAChD,SAEC0B,EACG,CAAA,SAAA,CAAAJ,EAAAA,IAACK,GAAM,SAAG,KAAA,CAAA,EACVL,EAAAA,IAACO,EAAM,CAAA,KAAK,UAAU,KAAK,OAAO,MAAO7B,EAAQ,QAAS,SAAUY,CAAoB,CAAA,CAAA,EAC5F,SAOCkB,EACG,CAAA,SAAA,CAACR,EAAAA,IAAAS,EAAA,CAAO,MAAO,CAAC,gBAAiB,KAAQ,EAAA,QAASd,EAAmB,SAAE,IAAA,CAAA,EACvEK,EAAAA,IAACS,GAAO,MAAO,CAAC,gBAAiB,MAAM,EAAG,QAASZ,EAAmB,SAAE,IAAA,CAAA,CAAA,EAC5E,QACHa,EAAa,CAAA,CAAA,CAAA,CAAA,CACd,CACJ,CAAA,CAER,EC3GA,SAASC,GAAgB,CAEf,KAAA,CAAC,UAAAlC,CAAS,EAAImC,EAAU,EAExBC,EAAkB,OAAOpC,CAAS,EAGpC,OAAAuB,EAAA,IAACxB,EAAuB,CAAA,UAAWqC,CAAgB,CAAA,CAG3D"}